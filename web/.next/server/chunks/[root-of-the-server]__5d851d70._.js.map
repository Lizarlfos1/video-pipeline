{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/jimmygrills/Documents/Coding/video-pipeline/web/lib/paths.ts"],"sourcesContent":["import path from \"node:path\";\n\n/** Project root is one level up from /web */\nexport const PROJECT_ROOT = path.resolve(process.cwd(), \"..\");\nexport const RUNS_DIR = path.join(PROJECT_ROOT, \"runs\");\nexport const ASSETS_DIR = path.join(PROJECT_ROOT, \"assets\");\n\n/** Validate a path is within the project root (prevent directory traversal) */\nexport function validatePath(relativePath: string): string | null {\n  const absolute = path.resolve(PROJECT_ROOT, relativePath);\n  if (!absolute.startsWith(PROJECT_ROOT)) return null;\n  return absolute;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGO,MAAM,eAAe,4HAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI;AACjD,MAAM,WAAW,4HAAI,CAAC,IAAI,CAAC,cAAc;AACzC,MAAM,aAAa,4HAAI,CAAC,IAAI,CAAC,cAAc;AAG3C,SAAS,aAAa,YAAoB;IAC/C,MAAM,WAAW,4HAAI,CAAC,OAAO,CAAC,cAAc;IAC5C,IAAI,CAAC,SAAS,UAAU,CAAC,eAAe,OAAO;IAC/C,OAAO;AACT","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/jimmygrills/Documents/Coding/video-pipeline/web/app/api/runs/%5BrunId%5D/edits/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { readFile, writeFile, copyFile } from \"node:fs/promises\";\nimport path from \"node:path\";\nimport { RUNS_DIR } from \"@/lib/paths\";\n\nexport async function GET(\n  _request: NextRequest,\n  { params }: { params: Promise<{ runId: string }> }\n) {\n  const { runId } = await params;\n  const filePath = path.join(RUNS_DIR, runId, \"edits.json\");\n\n  try {\n    const data = await readFile(filePath, \"utf-8\");\n    return NextResponse.json(JSON.parse(data));\n  } catch {\n    return NextResponse.json(\n      { error: \"edits.json not found\" },\n      { status: 404 }\n    );\n  }\n}\n\nexport async function PUT(\n  request: NextRequest,\n  { params }: { params: Promise<{ runId: string }> }\n) {\n  const { runId } = await params;\n  const editsPath = path.join(RUNS_DIR, runId, \"edits.json\");\n  const backupPath = path.join(RUNS_DIR, runId, \"edits.backup.json\");\n\n  try {\n    const body = await request.json();\n\n    // Backup existing file\n    try {\n      await copyFile(editsPath, backupPath);\n    } catch {\n      // No existing file to backup\n    }\n\n    await writeFile(editsPath, JSON.stringify(body, null, 2));\n    return NextResponse.json({ ok: true });\n  } catch (e) {\n    return NextResponse.json(\n      { error: \"Failed to save edits\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,IACpB,QAAqB,EACrB,EAAE,MAAM,EAA0C;IAElD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM;IACxB,MAAM,WAAW,4HAAI,CAAC,IAAI,CAAC,iIAAQ,EAAE,OAAO;IAE5C,IAAI;QACF,MAAM,OAAO,MAAM,IAAA,iJAAQ,EAAC,UAAU;QACtC,OAAO,uJAAY,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC;IACtC,EAAE,OAAM;QACN,OAAO,uJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,IACpB,OAAoB,EACpB,EAAE,MAAM,EAA0C;IAElD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM;IACxB,MAAM,YAAY,4HAAI,CAAC,IAAI,CAAC,iIAAQ,EAAE,OAAO;IAC7C,MAAM,aAAa,4HAAI,CAAC,IAAI,CAAC,iIAAQ,EAAE,OAAO;IAE9C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,uBAAuB;QACvB,IAAI;YACF,MAAM,IAAA,iJAAQ,EAAC,WAAW;QAC5B,EAAE,OAAM;QACN,6BAA6B;QAC/B;QAEA,MAAM,IAAA,kJAAS,EAAC,WAAW,KAAK,SAAS,CAAC,MAAM,MAAM;QACtD,OAAO,uJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;IACtC,EAAE,OAAO,GAAG;QACV,OAAO,uJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}